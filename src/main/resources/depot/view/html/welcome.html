<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
    <link rel="stylesheet" type="text/css" href="layui/css/layui.css"/>
    <link rel="stylesheet" type="text/css" href="fontawesome/css/all.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/welcome.css"/>
    <script type="text/javascript" src="js/jquery-3.5.1.min.js"></script>
</head>

<body>

<div id="sidebar">
    <div id="sidebar-about">
        <img id="sidebar-logo" src="img/logo.png" alt=""/>
        <div id="sidebar-title">
            <p id="sidebar-title-app-name"></p>
            <p id="sidebar-title-version"></p>
        </div>
    </div>
    <ul id="sidebar-tab" lay-filter="sidebar-tab">
        <li class="sidebar-tab-item" id="sidebar-add-repo">添加仓库</li>
        <li class="sidebar-tab-item" id="sidebar-repo-list">仓库列表</li>
    </ul>
</div>

<div id="content">

    <div class="content-item">
        <form class="layui-form" id="form-add-repo" lay-filter="form-add-repo">
            <div class="layui-row">
                <div class="layui-form-item" style="width: 200px;">
                    <label class="layui-form-label">协议：</label>
                    <div class="layui-input-block">
                        <label>
                            <select name="protocol" lay-filter="form-add-repo-protocol" lay-verify="required">
                                <option value="svn+ssh" selected>svn+ssh</option>
                                <option value="svn">svn</option>
                                <option value="file">file</option>
                            </select>
                        </label>
                    </div>
                </div>
            </div>
            <div class="layui-row" id="row-host-port">
                <div class="layui-form-item layui-col-xs8">
                    <label class="layui-form-label">主机：</label>
                    <div class="layui-input-block">
                        <label>
                            <input type="text" name="host" class="layui-input" placeholder="localhost"/>
                        </label>
                    </div>
                </div>
                <div class="layui-form-item layui-col-xs4">
                    <label class="layui-form-label">端口：</label>
                    <div class="layui-input-block">
                        <label>
                            <input type="text" name="port" class="layui-input" placeholder="22" lay-verify="port"/>
                        </label>
                    </div>
                </div>
            </div>
            <div class="layui-row" id="row-path">
                <div class="layui-form-item">
                    <label class="layui-form-label">路径：</label>
                    <div class="layui-input-block">
                        <label>
                            <input type="text" name="path" class="layui-input" lay-verify="required"/>
                        </label>
                        <i class="fas fa-folder-open" id="icon-choose-repo-path"></i>
                    </div>
                </div>
            </div>
            <div class="layui-row" id="row-authType">
                <div class="layui-form-item">
                    <label class="layui-form-label">验证：</label>
                    <div class="layui-input-block">
                        <input type="radio" name="authType" value="password" title="密码"
                               lay-filter="form-add-repo-authType" checked/>
                        <input type="radio" name="authType" value="privateKey" title="私钥"
                               lay-filter="form-add-repo-authType"/>
                    </div>
                </div>
            </div>
            <div class="layui-row" id="row-userName-password">
                <div class="layui-form-item layui-col-xs7" id="form-add-repo-item-userName">
                    <label class="layui-form-label">用户：</label>
                    <div class="layui-input-block">
                        <label>
                            <input type="text" name="userName" class="layui-input"/>
                        </label>
                    </div>
                </div>
                <div class="layui-form-item layui-col-xs5" id="form-add-repo-item-password">
                    <label class="layui-form-label">密码：</label>
                    <div class="layui-input-block">
                        <label>
                            <input type="password" name="password" class="layui-input"/>
                        </label>
                    </div>
                </div>
            </div>
            <div class="layui-row" id="row-privateKey-passphrase" style="display: none;">
                <div class="layui-form-item layui-col-xs7">
                    <label class="layui-form-label">私钥：</label>
                    <div class="layui-input-block">
                        <label>
                            <input type="text" name="privateKey" class="layui-input" placeholder="~/.ssh/id_rsa"/>
                        </label>
                    </div>
                </div>
                <div class="layui-form-item layui-col-xs5">
                    <label class="layui-form-label">密码：</label>
                    <div class="layui-input-block">
                        <label>
                            <input type="password" name="passphrase" class="layui-input"/>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-action">
                <button type="reset" class="layui-btn layui-btn-xs" id="form-add-repo-reset">重置</button>
                <button type="submit" class="layui-btn layui-btn-xs layui-btn-normal" lay-submit
                        lay-filter="form-add-repo-submit">添加
                </button>
            </div>
        </form>
    </div>

    <div class="content-item">
        <ul id="repo-list"></ul>
        <script id="repo-list-item-tpl" type="text/html">
            {{# layui.each(d, function (index, item) { }}
            <li class="repo-list-item" data-uuid="{{ item.getRepositoryUUID() }}">
                <i class="repo-list-item-remove layui-icon layui-icon-close" title="移除仓库"></i>
                <div class="repo-list-item-title" title="{{ item.getTitle() }}">
                    {{ item.getTitle() }}
                </div>
                <div class="repo-list-item-url" title="{{ item.getUrl() }}">
                    {{ item.getUrl() }}
                </div>
            </li>
            {{# }); }}
        </script>
    </div>

</div>

<script src="layui/layui.js"></script>
<script src="js/common.js"></script>
<script src="js/welcome.js"></script>

</body>

</html>
